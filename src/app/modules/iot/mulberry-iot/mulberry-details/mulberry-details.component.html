<div class="bg-white rounded mb-4 d-flex align-items-center py-2 sticky-header justify-content-between" >
    <ul id="breadcrumbs">
        <li><span style="cursor: pointer;" class="hover-item" (click)="goBack()">All Devices</span></li>
        <li><span>{{PlotCode}}</span></li>
    </ul>
    <div>
        <app-back-button></app-back-button>
    </div>
</div>
<div class="row">
    <div class="col-lg-4 col-md-4 col-sm-4">
        <!--begin::Card-->
        <div class="card card-custom gutter-b">
            <!--begin::Body-->
            <div class="card-body pt-4" >
                <!--begin::Toolbar-->
                <div class="d-flex justify-content-between align-items-baseline mt-5">
                    <div class="font-size-h5 mb-3 ">
                        Device Details
                    </div>
                    <!-- <button class="btn btn-outline-success btn-sm " (click)="editReeler()">
                        Edit
                    </button> -->

                </div>
                <div class="mb-7">
                    <!-- <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Device Id:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.deviceId}}</span>
                    </div> -->
                   
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Device Serial No:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.deviceDetails?.deviceSerialNo}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Device Type:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.deviceDetails?.deviceType}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Data Frequency:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.deviceDetails?.dataFrequency}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Device Status:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.status}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Device Health:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.device?.health}}</span>
                    </div>
                    
                </div>
                <!-- plot details -->
                <div class="d-flex justify-content-between align-items-baseline mt-5">
                    <div class="text-dark-75 font-weight-bolder pr-1">
                        Plot Details
                    </div>
                </div>
                <div class="mb-7">
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">CODE:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.plot?.code}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Plot Name:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.plot?.name}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Crop Name:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.plot?.crop?.name}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Crop Variety:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.plot?.crop?.varietyName}}</span>
                    </div>
                    <!-- <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Phone:</span>
                        <a *ngIf="userType.role !== 'Agronomist'" class="btn btn-link-success font-weight-bold" (click)="routeToCustomer()">
                            {{associatedDevicesInfo?.phoneNumber}}
                        </a>
                        <a *ngIf="userType.role === 'Agronomist'">
                            {{associatedDevicesInfo?.phoneNumber}}
                        </a>
                    </div> -->
                </div> 

                <div class="d-flex justify-content-between align-items-baseline mt-5">
                    <div class="text-dark-75 font-weight-bolder pr-1">
                        Customer Details
                    </div>
                </div>
                <div class="mb-7">
                    <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">ID:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.farmer?.id}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Name:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.farmer.name}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Phone:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.farmer.phone}}</span>
                    </div>
                    <!-- <div class="d-flex justify-content-between align-items-center my-2">
                        <span class="text-muted font-weight-bolder mr-2">Phone:</span>
                        <a *ngIf="userType.role !== 'Agronomist'" class="btn btn-link-success font-weight-bold" (click)="routeToCustomer()">
                            {{associatedDevicesInfo?.phoneNumber}}
                        </a>
                        <a *ngIf="userType.role === 'Agronomist'">
                            {{associatedDevicesInfo?.phoneNumber}}
                        </a>
                    </div> -->
                    <!-- <p class="mt-7 mb-2">
                        <span class="text-dark-75 font-weight-bolder pr-1">Customer Address:</span>
                    </p> -->
                    <!-- <p>
                        <span class="text-muted font-weight-bolder mr-2">
                            {{farmerDetails?.address?.address}}, {{farmerDetails?.address?.village}},
                            {{farmerDetails?.address?.taluk}}, {{farmerDetails?.address?.city}}
                        </span><br />
                        <span class="text-muted font-weight-bolder mr-2 pt-2">{{farmerDetails?.address?.district ?
                            farmerDetails.address.district + ' District, ' : ''}} {{farmerDetails?.address?.state}}
                            {{farmerDetails?.address?.pincode}}</span>
                    </p> -->
                </div>       
                <p class="mt-7 mb-2">
                    <span class="text-dark-75 font-weight-bolder pr-1">Agronomist Details</span>
                </p>
                <div class="mb-7">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="text-muted font-weight-bolder mr-2">Name:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.agronomist?.name}}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-cente my-2">
                        <span class="text-muted font-weight-bolder mr-2">Phone:</span>
                        <span class="text-dark-75 font-weight-bold">{{associatedDevicesInfo?.agronomist?.phone}}</span>
                    </div>
                </div>

            </div>
            <!--end::Body-->
        </div>
        <!--end::Card-->
    </div>
    <div class="col-lg-8 col-md-4 col-sm-8">
        <div class="card card-custom gutter-b" >
            <div class="card-header">
                <div class="card-title">
                  <h3 class="card-label">Latest Sensor Readings</h3>
                </div>
                <div class="card-toolbar">
                    <div> Last Recorded: <b>{{associatedDevicesInfo?.plot?.lastSyncDate !== 0 && associatedDevicesInfo?.plot?.lastSyncDate !== null ? utils.getDisplayTime(associatedDevicesInfo?.plot?.lastSyncDate) : 'No Data'}}</b>
                    <br>
                    <!-- <span [ngClass]="latestSensorRecords.rssi=='Excellent'?'battery-green':'battery-red'">Signal strength: <b>{{ latestSensorRecords.rssi !== null ? latestSensorRecords.rssi  : 'No Data'}}</b></span>
                    <br> -->
                    <span [ngClass]="associatedDevicesInfo?.plot?.liveData?.battery>=10?'battery-green':'battery-red'">Battery: <b>{{ associatedDevicesInfo?.plot?.liveData?.battery !== null ? associatedDevicesInfo?.plot?.liveData?.battery + '%' : 'No Data'}}</b></span><br>
                    <!-- <span>Power source: <b>{{latestSensorRecords?.powerMode}}</b></span><br> -->
                    <!-- <span>Stage Information: <b>{{associatedDevicesInfo?.threshold?.dayOfChawki}}</b> Day</span> -->
                    </div>
                  </div>
              </div>
              <div class="card-body">
                  <div class="row mt-3 mb-3 justify-content-around">
                    <div class="col-lg-3 p-3 mr-3 ml-3 border border-darken-1 rounded" >
                        <label class="form-text text-success" >
                            Soil Temperature: <p class="ml-3 font-size-h3">{{associatedDevicesInfo?.plot?.liveData?.soilTemprature}} &deg;C</p>
                        </label>
                        <!-- <div class="text-muted">Ideal: {{associatedDevicesInfo?.plot?.liveData?.temperature?.min}} &deg; - {{associatedDevicesInfo?.plot?.liveData?.temperature?.max}} &deg;C</div> -->
                    </div>
                    <div class="col-lg-3 p-3 mr-3 border border-darken-1 rounded" >
                        <label class="form-text text-success" >
                            Soil MoistureL1: 
                            <p class="ml-3 font-size-h3">{{associatedDevicesInfo?.plot?.liveData?.soilMoistureL1 | number:'1.2-2'}} &deg;C</p>
                        </label>
                        <!-- <div class="text-muted">Ideal: {{associatedDevicesInfo?.plot?.liveData?.temperature?.min}} &deg; - {{associatedDevicesInfo?.plot?.liveData?.temperature?.max}} &deg;C</div> -->
                    </div>
                    <div class="col-lg-3 p-3 mr-3 border border-darken-1 rounded" >
                        <label class="form-text text-success" >
                            Soil MoistureL2: <p class="ml-3 font-size-h3">{{associatedDevicesInfo?.plot?.liveData?.soilMoistureL2 | number:'1.2-2'}} &deg;C</p>
                        </label>
                        <!-- <div class="text-muted">Ideal: {{associatedDevicesInfo?.plot?.liveData?.temperature?.min}} &deg; - {{associatedDevicesInfo?.plot?.liveData?.temperature?.max}} &deg;C</div> -->
                    </div>
                    
                  </div>
              </div>
        </div>
       
 
    </div>
</div>