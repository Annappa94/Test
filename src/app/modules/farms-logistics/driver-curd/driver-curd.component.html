<div class="card card-custom gutter-b">
    <div class="card-header">
      <div class="card-title">
        <h3 class="card-label">Update Driver Details</h3>
      </div>
      <div class="card-toolbar">
        <!-- Nothing right now-->
      </div>
    </div>
    <div class="card-body pt-0">

      <!-- Farmer FORM -->
      <div class="form form-label-right">
        <div class="form-group row" style="padding-top: 0px;">
            <div class="col-lg-12">

                <div class="row" [formGroup]="createDriverForm">
                  <div class="col-lg-4 mt-2">
                    <label class="form-label">Driver Name<span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" name="name" placeholder="Name"
                      autocomplete="off" [class.is-invalid]="isDriverFormControlInvalid('driverName')"
                      [class.is-valid]="isDriverFormControlValid('driverName')"
                      formControlName="driverName" />
                    <div class="invalid-feedback" *ngIf="DriverFormcontrolHasError('required', 'driverName')">Name is required</div>
                  </div>

                  <div class="col-lg-4 mt-2">
                    <label class="form-label">Mobile Number<span class="text-danger">*</span></label>
                      <input type="text" class="form-control form-control-lg" name="driverNumber"
                        placeholder="Mobile Number" autocomplete="off" [class.is-invalid]="isDriverFormControlInvalid('driverNumber')"
                        [class.is-valid]="isDriverFormControlValid('driverNumber')" formControlName="driverNumber" />
                      <div class="valid-feedback" *ngIf="isDriverFormControlValid('driverNumber')">Mobile number was entered correct
                      </div>
                      <div class="invalid-feedback" *ngIf="DriverFormcontrolHasError('required', 'driverNumber')">Mobile number is
                        required</div>
                  </div>


                  <div class="col-lg-12 mt-6">
                    <ngb-accordion #acc11="ngbAccordion">
                      <ngb-panel id="toggle-address">
                        <ng-template ngbPanelTitle>
                          <span class="ard-header--title text-success">Driving License Details<span class="text-danger">*</span></span>
                        </ng-template>
                        <ng-template ngbPanelContent>
                          <div class="row">
                            <div class="col-lg-3 mt-2">
                              <label class="form-label">Driving Liense No.<span class="text-danger">*</span></label>
                              <input type="text" class="form-control form-control-lg" name="Land Size"
                                placeholder="Driving Liense No" autocomplete="off" formControlName="DrivingLienseNumber" />
                            </div>

                            <!-- <div class="col-lg-12 mt-2">
                              <label class="form-label">Cotton Types</label>
                              <mat-form-field appearance="legacy" class="w-100">
                                <mat-select multiple formControlName="cottonTypes" >
                                  <mat-option *ngFor="let item of cottonTypes" [value]="item" >
                                    {{item}}
                                </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div> -->

                            <div class="col-lg-3 mt-2">
                              <label class="form-label">Name on DL<span class="text-danger">*</span></label>
                              <input type="text" class="form-control form-control-lg" name="city"
                                placeholder="Name on DL" autocomplete="off" formControlName="nameOnDl" />
                            </div>

                            <div class="col-lg-3 mt-2">
                              <label class="form-label">Fathers/Guardians Name</label>
                              <input type="text" class="form-control form-control-lg" name="city"
                                placeholder="Fathers/Guardians Name" autocomplete="off" formControlName="fatherName" />
                            </div>

                            <div class="col-lg-3 mt-2">
                                <label for="name"> Date of DL Issued<span class="text-danger">*</span></label>
                                <!-- <br> -->
                                <mat-form-field class="w-100 cursor-pointer" appearance="fill" (click)="dpDL.open()">
                                    <input formControlName="DlIssuedDate" class="cursor-pointer" matInput [matDatepicker]="dpDL"
                                    (click)="dpDL.open()" (dateChange)="changeDateTimeEvent($event)" readonly>
                                    <mat-datepicker-toggle matSuffix [for]="dpDL"></mat-datepicker-toggle>
                                    <mat-datepicker #dpDL disabled="false"></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <div class="col-lg-3 mt-2">
                                <label for="name">DL Expiry Date<span class="text-danger">*</span></label>
                                <!-- <br> -->
                                <mat-form-field class="w-100 cursor-pointer" appearance="fill" (click)="dpDLEXP.open()">
                                    <input formControlName="DlExpiryDate" class="cursor-pointer" matInput [matDatepicker]="dpDLEXP"
                                    (click)="dpDLEXP.open()" [min]="expiaryDate" readonly>
                                    <mat-datepicker-toggle matSuffix [for]="dpDLEXP"></mat-datepicker-toggle>
                                    <mat-datepicker #dpDLEXP disabled="false"></mat-datepicker>
                                </mat-form-field>
                            </div>
                          </div>
                        </ng-template>
                      </ngb-panel>
                    </ngb-accordion>
                  </div>

                  <div class="col-lg-12 mt-6">
                    <ngb-accordion #acc11="ngbAccordion">
                      <ngb-panel id="toggle-bank">
                        <ng-template ngbPanelTitle>
                          <span class="ard-header--title text-success">Bank Details<span class="text-danger">*</span></span>
                        </ng-template>
                        <ng-template ngbPanelContent>
                          <div>
                            <div class="row pb-10">
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Account Holder’s Name<span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-lg"
                                  placeholder="Account Holder’s Name" autocomplete="off" formControlName="beneficiaryName" />
                              </div>

                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Bank Name<span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-lg"
                                  placeholder="Bank Name" autocomplete="off" formControlName="bankName" />
                              </div>

                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Bank Account Number<span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-lg"
                                  placeholder="Bank Account Number" autocomplete="off" formControlName="accountNumber">
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">IFSC Code<span class="text-danger">*</span></label>
                                <input type="text" class="form-control form-control-lg"
                                  placeholder="IFSC Code" autocomplete="off" formControlName="ifscCode">
                              </div>

                            </div>
                          </div>
                        </ng-template>
                      </ngb-panel>
                    </ngb-accordion>
                  </div>

                  <div class="col-lg-12 mt-6">
                    <ngb-accordion #acc11="ngbAccordion">
                      <ngb-panel id="toggle-bank">
                        <ng-template ngbPanelTitle>
                          <span class="ard-header--title text-success">Address Details<span class="text-danger">*</span></span>
                        </ng-template>
                        <ng-template ngbPanelContent>
                          <div>
                            <div class="row pb-10">
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Address</label>
                                <input type="text" class="form-control form-control-lg" name="Address"
                                  placeholder="Address" autocomplete="off" formControlName="address" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Village</label>
                                <input type="text" class="form-control form-control-lg" name="Village"
                                  placeholder="Village" autocomplete="off" formControlName="village" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">City</label>
                                <input type="text" class="form-control form-control-lg" name="city"
                                  placeholder="City" autocomplete="off" formControlName="city" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">District</label>
                                <input type="text" class="form-control form-control-lg" name="District"
                                  placeholder="District" autocomplete="off" formControlName="district" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Taluk</label>
                                <input type="text" class="form-control form-control-lg" name="Taluk"
                                  placeholder="Taluk" autocomplete="off" formControlName="taluk" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Region</label>
                                <input type="text" class="form-control form-control-lg" name="region"
                                  placeholder="Region" autocomplete="off" formControlName="region" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">State</label>
                                <input type="text" class="form-control form-control-lg" name="State"
                                  placeholder="State" autocomplete="off" formControlName="state" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">PIN Code</label>
                                <input type="text" class="form-control form-control-lg" name="PIN Code"
                                  placeholder="PIN Code" autocomplete="off" formControlName="pincode" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Latitude</label>
                                <input type="text" readonly class="form-control form-control-lg" name="PIN Code"
                                  placeholder="Latitude" autocomplete="off" formControlName="latitude" />
                              </div>
                              <div class="col-lg-3 mt-2">
                                <label class="form-label">Longitude</label>
                                <input type="text" readonly class="form-control form-control-lg" name="PIN Code"
                                  placeholder="Longitude" autocomplete="off" formControlName="longitude" />
                              </div>

                            </div>
                          </div>
                        </ng-template>
                      </ngb-panel>
                    </ngb-accordion>
                  </div>


                </div>
            </div>
        </div>
        <div class="card-toolbar">
          <button type="button" class="btn btn-sm btn-secondary mr-2" (click)="goBack()">Back</button>

          <button type="submit" class="btn btn-sm btn-success" (click)="saveDriverData(createDriverForm.value)">Save</button>

        </div>
      </div>

    </div>
  </div>



  <div class="symbol symbol-50 symbol-light mr-1 cursor-pointer" *ngIf="modelImageUrl" appNoRightClick>

    <!-- The Modal -->
    <div id="reviewModel" class="modal" [ngClass]="{'display-block' : expandImage, 'display-none' : !expandImage}">

      <!-- The Close Button -->
      <span class="close" (click)="expandImage = false">&times;</span>

      <!-- Modal Content (The Image) -->
      <img class="modal-content" *ngIf="!modelImageUrl?.includes('.pdf')" [src]="modelImageUrl">
      <!-- <pdf-viewer *ngIf="modelImageUrl?.includes('.pdf')" src="{{modelImageUrl}}"></pdf-viewer> -->
    </div>
    <!-- </span> -->
  </div>
